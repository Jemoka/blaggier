<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin=anonymous referrerpolicy=no-referrer><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=anonymous></script><meta name=viewport content="width=device-width,initial-scale=1"><script src=https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4></script><link rel=preconnect href=https://fonts.bunny.net><link href="https://fonts.bunny.net/css?family=ibm-plex-sans:300,400,400i,500,500i,600,700,700i" rel=stylesheet><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script>window.MathJax={loader:{load:["[tex]/physics"]},tex:{packages:{"[+]":["physics"]}}}</script><title>Posts</title>
<meta name=author content="Houjun Liu"><link rel=stylesheet href=/css/all.css><link rel=stylesheet href=/css/page.css><link rel=stylesheet href=/css/syntax.css><link rel=stylesheet href=/css/typography.css><link rel=stylesheet href=/css/components.css></head><body><div class="center-clearfix p-10" style="max-width:1200px;margin:0 auto"><header class=pb-4><span class="w-full flex justify-between flex-wrap"><div style=font-weight:600;font-size:15px><a style=border:0;cursor:pointer href=/><img src=/images/Logo_Transparent.png style=width:17px;display:inline-block;margin-right:8px;transform:translateY(-2.7px)></a>Posts</div></span><div class=w-full style="padding-bottom:4px;border-bottom:1px solid var(--gray-1);margin-top:1px"></div></header><main><div class=pageview onclick='window.location.href="https://www.jemoka.com/posts/kbhnumerical_stability/"'><span class=top><h1><a class=noannot style=cursor:pointer href=https://www.jemoka.com/posts/kbhnumerical_stability/>Numerical Stability</a></h1><span class="modbox right">Last edited: <span class=moddate>August 8, 2025</span></span>
</span><span class=summary><p>&ldquo;being careful&rdquo;</p><h2 id=numerically-stable-vector-norms>numerically stable vector norms</h2><p>consider:</p><p>\begin{equation}
\Vert x \Vert_{2} = \sqrt{x_1^{2} + \dots + x_{m}^{2}}
\end{equation}</p><p>squaring it could easily go over MAX-float for large \(m\). Instead, consider:</p><p>\begin{equation}
\Vert x \Vert_{2} = z \sqrt{\qty(\frac{x_1}{z})^{2} + \dots \qty(\frac{x_{m}}{z})^{2}}
\end{equation}</p><p>where \(z = \max_{i} |x_{i}|\). Notice how now we are squaring numbers which are less than one, meaning this will never blow up. Yet, the results will be the same. This is bounded, therefore, by \(m\).</p></span></div><div class=pageview onclick='window.location.href="https://www.jemoka.com/posts/kbhnus_econ320_capm_problem_set/"'><span class=top><h1><a class=noannot style=cursor:pointer href=https://www.jemoka.com/posts/kbhnus_econ320_capm_problem_set/>NUS-ECON320 CAPM Problem Set</a></h1><span class="modbox right">Last edited: <span class=moddate>August 8, 2025</span></span>
</span><span class=summary></span></div><div class=pageview onclick='window.location.href="https://www.jemoka.com/posts/kbhnus_econ320_currency_arbitrage/"'><span class=top><h1><a class=noannot style=cursor:pointer href=https://www.jemoka.com/posts/kbhnus_econ320_currency_arbitrage/>NUS-ECON320 Currency Arbitrage</a></h1><span class="modbox right">Last edited: <span class=moddate>August 8, 2025</span></span>
</span><span class=summary><p>Let&rsquo;s import some tools.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>pandas</span> <span style=color:#00a8c8>as</span> <span style=color:#111>pd</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> <span style=color:#111>scipy.optimize</span> <span style=color:#f92672>import</span> <span style=color:#111>minimize</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>numpy</span> <span style=color:#00a8c8>as</span> <span style=color:#111>np</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> <span style=color:#111>datetime</span> <span style=color:#f92672>import</span> <span style=color:#111>datetime</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> <span style=color:#111>tqdm</span> <span style=color:#f92672>import</span> <span style=color:#111>tqdm</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>torch</span>
</span></span><span style=display:flex><span><span style=color:#111>tqdm</span><span style=color:#f92672>.</span><span style=color:#111>pandas</span><span style=color:#111>()</span>
</span></span></code></pre></div><p>And load our data:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>df</span> <span style=color:#f92672>=</span> <span style=color:#111>pd</span><span style=color:#f92672>.</span><span style=color:#111>read_csv</span><span style=color:#111>(</span><span style=color:#d88200>&#34;./currency_signal.csv&#34;</span><span style=color:#111>,</span> <span style=color:#111>index_col</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#111>header</span><span style=color:#f92672>=</span><span style=color:#00a8c8>None</span><span style=color:#111>,</span> <span style=color:#111>parse_dates</span><span style=color:#f92672>=</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>])</span>
</span></span><span style=display:flex><span><span style=color:#111>df</span>
</span></span></code></pre></div><p>Let&rsquo;s rename the headers</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>df</span><span style=color:#f92672>.</span><span style=color:#111>index</span><span style=color:#f92672>.</span><span style=color:#111>rename</span><span style=color:#111>(</span><span style=color:#d88200>&#34;date&#34;</span><span style=color:#111>,</span> <span style=color:#00a8c8>True</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>df</span><span style=color:#f92672>.</span><span style=color:#111>columns</span> <span style=color:#f92672>=</span> <span style=color:#111>[</span><span style=color:#d88200>&#34;value&#34;</span><span style=color:#111>]</span>
</span></span></code></pre></div><p>Awesome. For the rest of the calculations, we will hide the 2020 data from the model:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>data</span> <span style=color:#f92672>=</span> <span style=color:#111>df</span><span style=color:#111>[</span><span style=color:#111>df</span><span style=color:#f92672>.</span><span style=color:#111>index</span> <span style=color:#f92672>&lt;</span> <span style=color:#111>datetime</span><span style=color:#111>(</span><span style=color:#ae81ff>2020</span><span style=color:#111>,</span> <span style=color:#ae81ff>1</span><span style=color:#111>,</span><span style=color:#ae81ff>1</span><span style=color:#111>)]</span>
</span></span><span style=display:flex><span><span style=color:#111>data</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>               value
</span></span><span style=display:flex><span>date
</span></span><span style=display:flex><span>2006-03-01  0.000050
</span></span><span style=display:flex><span>2006-03-02  0.001778
</span></span><span style=display:flex><span>2006-03-03  0.000116
</span></span><span style=display:flex><span>2006-03-06 -0.001038
</span></span><span style=display:flex><span>2006-03-07 -0.001197
</span></span><span style=display:flex><span>...              ...
</span></span><span style=display:flex><span>2019-12-25 -0.010659
</span></span><span style=display:flex><span>2019-12-26 -0.000869
</span></span><span style=display:flex><span>2019-12-27  0.000075
</span></span><span style=display:flex><span>2019-12-30  0.000033
</span></span><span style=display:flex><span>2019-12-31  0.000944
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[3610 rows x 1 columns]
</span></span></code></pre></div><p>we will add a column of randomness to this, to serve as the seed of our epsilon:</p></span></div><div class=pageview onclick='window.location.href="https://www.jemoka.com/posts/kbhnus_econ320_risk_appetite/"'><span class=top><h1><a class=noannot style=cursor:pointer href=https://www.jemoka.com/posts/kbhnus_econ320_risk_appetite/>NUS-ECON320 Inter-Temporal Choice</a></h1><span class="modbox right">Last edited: <span class=moddate>August 8, 2025</span></span>
</span><span class=summary><p>We want to construct a combined agent</p><p>\begin{equation}
(k_1+k_2)x^{*}(k_1+k_2, \gamma^{*}) = x^{*}(k_1,\gamma_{1})k_1+x^{*}(k_2, \gamma_{2})k_2
\end{equation}</p><p>which combines the relative risk of \(\gamma_{1}, \gamma_{2}\) into some new \(\gamma^{*}\), which produces the same combined consumption of both agents \(k_1+k_2\).</p><p>Let us create some CAS tools to solve the inter-temporal choice problem generically for 10 steps in the past.</p><p>We do this by solving backwards. We will create a variable \(k\) to measure asset, and \(k_{t}\) the remaining asset at time \(t\).</p></span></div><div class=pageview onclick='window.location.href="https://www.jemoka.com/posts/kbhnus_econ320_linearity_tests/"'><span class=top><h1><a class=noannot style=cursor:pointer href=https://www.jemoka.com/posts/kbhnus_econ320_linearity_tests/>NUS-ECON320 Linearity Tests</a></h1><span class="modbox right">Last edited: <span class=moddate>August 8, 2025</span></span>
</span><span class=summary><p>Let&rsquo;s begin. We want to create test for the linearity of a few assets, for whether or not they follow the CAPM.</p><p>Note that we will be using the Sharpe-Linter version of CAPM:</p><p>\begin{equation}
E[R_{i}-R_{f}] = \beta_{im} E[(R_{m}-R_{f})]
\end{equation}</p><p>\begin{equation}
\beta_{im} := \frac{Cov[(R_{i}-R_{f}),(R_{m}-R_{f})]}{Var[R_{m}-R_{f}]}
\end{equation}</p><p>Recall that we declare \(R_{f}\) (the risk-free rate) to be non-stochastic.</p><p>Let us begin. We will create a generic function to analyze some given stock.</p><p>We will first import our utilities</p></span></div><ul class="pagination pagination-default"><li class=page-item><a href=/posts/ aria-label=First class=page-link role=button><span aria-hidden=true>⟸</span></a></li><li class=page-item><a href=/posts/page/197/ aria-label=Previous class=page-link role=button><span aria-hidden=true>⟵</span></a></li><li class=page-item><a href=/posts/page/196/ aria-label="Page 196" class=page-link role=button>196</a></li><li class=page-item><a href=/posts/page/197/ aria-label="Page 197" class=page-link role=button>197</a></li><li class="page-item active"><a aria-current=page aria-label="Page 198" class=page-link role=button>198</a></li><li class=page-item><a href=/posts/page/199/ aria-label="Page 199" class=page-link role=button>199</a></li><li class=page-item><a href=/posts/page/200/ aria-label="Page 200" class=page-link role=button>200</a></li><li class=page-item><a href=/posts/page/199/ aria-label=Next class=page-link role=button><span aria-hidden=true>⟶</span></a></li><li class=page-item><a href=/posts/page/367/ aria-label=Last class=page-link role=button><span aria-hidden=true>⟹</span></a></li></ul></main><footer style=margin-top:20px><p id=footer style=font-size:8px;color:var(--gray-3)>&copy; 2019-2025 Houjun Liu. Licensed CC BY-NC-SA 4.0.</p></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.32.2/tocbot.min.js></script><script>tocbot.init({tocSelector:"#toc",contentSelector:".center-clearfix",headingSelector:"h1, h2, h3",hasInnerContainers:!0})</script></body></html>