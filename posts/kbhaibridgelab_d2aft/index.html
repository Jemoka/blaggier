<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin=anonymous referrerpolicy=no-referrer><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=anonymous></script><meta name=viewport content="width=device-width,initial-scale=1"><script src=https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4></script><link rel=preconnect href=https://fonts.bunny.net><link href="https://fonts.bunny.net/css?family=ibm-plex-sans:300,400,400i,500,500i,600,700,700i" rel=stylesheet><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script>window.MathJax={loader:{load:["[tex]/physics"]},tex:{packages:{"[+]":["physics"]}}}</script><title>AIBridgeLab D3Morning</title>
<meta name=description content="Welcome to the Day-3 Morning Lab! We are glad for you to join us. Today, we are learning about how Pandas, a data manipulation tool, works, and working on cleaning some data of your own!
Iris Dataset
We are going to lead the Iris dataset from sklearn again. This time, however, we will load the full dataset and parse it ourselves (instead of using return_X_y.)
Let&rsquo;s begin by importing the Iris dataset, as we expect."><meta name=author content="Houjun Liu"><link rel=stylesheet href=/css/all.css><link rel=stylesheet href=/css/page.css><link rel=stylesheet href=/css/syntax.css><link rel=stylesheet href=/css/typography.css><link rel=stylesheet href=/css/components.css></head><body><div class="center-clearfix p-10" style="max-width:1200px;margin:0 auto"><header class=pb-4><span class="w-full flex justify-between flex-wrap"><div style=font-weight:600;font-size:15px><a style=border:0;cursor:pointer href=/><img src=/images/Logo_Transparent.png style=width:17px;display:inline-block;margin-right:8px;transform:translateY(-2.7px)></a>AIBridgeLab D3Morning</div><span style="float:right;display:flex;align-items:center;margin-top:5px;width:100%;max-width:400px;background:#fff;border-radius:2px;border:1px solid var(--gray-2);position:relative"><i class="fa-solid fa-magnifying-glass" style=font-size:12px;color:var(--yellow-fg);margin-right:7px;margin-left:10px></i><div style=width:100%><input id=search-query-inline name=s type=text autocomplete=off placeholder="Search Knowledgebase" enterkeyhint=search></div><div id=search-result-inline style=display:none></div><script id=search-result-template type=text/x-js-template data-template=searchresult>
    <a href="${link}" class="search-link">
    <div class="search-result-item" id="search-result-item-${key}">
        <div class="search-result-title">${title}</div>
        <div class="search-result-summary">${snippet}</div>
    </div>
    </a>
</script><script src=https://code.jquery.com/jquery-3.3.1.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.0/fuse.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js></script><script type=module>
    import { create, insertMultiple, search } from 'https://cdn.jsdelivr.net/npm/@orama/orama@latest/+esm'
    let template = $('script[data-template="searchresult"]').text().split(/\$\{(.+?)\}/g);

    function render(props) {
        return function(tok, i) { return (i % 2) ? props[tok] : tok; };
    }

    const db = create({
        schema: {
            title: 'string',
            content: 'string',
        },
    });
    $.get("https://www.jemoka.com/index.json", function(data, status){
        insertMultiple(db, data.map(x =>
            ({title: x.title, content: x.contents, link: x.permalink})));
    });
    $("#search-result-inline").attr("tabindex", "-1");
    $(document).on("click", function (e) {
    if (!$(e.target).closest("#search-query-inline, #search-result-inline").length) {
        $("#search-result-inline").hide();
    }
    });
    
    
    
    
    
    

    $("#search-query-inline").on("focus keyup", function () {
        let value = $(this).val();
        if (value.trim() == "") {
            $("#search-result-inline").html("");
            $("#search-result-inline").hide();
            return;
        }
        $("#search-result-inline").show();
        let results = search(db, {mode: "fulltext", term: value});
        let contents = results.hits.map(x => template.map(render({
            title: x.document.title,
            snippet: x.document.content.slice(0, 52),
            key: x.id,
            link: x.document.link
        })).join(''));
        $("#search-result-inline").html(contents.join("\n"));
        
    });
    if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
        $('#search-query-inline').on('focus', function(){
            
            $(this).data('fontSize', $(this).css('font-size')).css('font-size', '16px');
        }).on('blur', function(){
            
            $(this).css('font-size', $(this).data('fontSize'));
        });
    }

</script></span></span><div class=w-full style="padding-bottom:4px;border-bottom:1px solid var(--gray-1);margin-top:1px"></div></header><aside id=tocbox><div id=heading style=padding-left:40px;font-weight:600;font-size:11px;color:var(--gray-3)>contents</div><div id=toc></div></aside><main><article><div style=max-width:700px><p>Welcome to the Day-3 Morning Lab! We are glad for you to join us. Today, we are learning about how Pandas, a data manipulation tool, works, and working on cleaning some data of your own!</p><h2 id=iris-dataset>Iris Dataset</h2><p>We are going to lead the Iris dataset from <code>sklearn</code> again. This time, however, we will load the full dataset and parse it ourselves (instead of using <code>return_X_y</code>.)</p><p>Let&rsquo;s begin by importing the Iris dataset, as we expect.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> <span style=color:#111>sklearn.datasets</span> <span style=color:#f92672>import</span> <span style=color:#111>load_iris</span>
</span></span></code></pre></div><p>And, load the dataset to see what it looks like.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>iris</span> <span style=color:#f92672>=</span> <span style=color:#111>load_iris</span><span style=color:#111>()</span>
</span></span><span style=display:flex><span><span style=color:#111>iris</span><span style=color:#f92672>.</span><span style=color:#111>keys</span><span style=color:#111>()</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>dict_keys([&#39;data&#39;, &#39;target&#39;, &#39;frame&#39;, &#39;target_names&#39;, &#39;DESCR&#39;, &#39;feature_names&#39;, &#39;filename&#39;, &#39;data_module&#39;])
</span></span></code></pre></div><p>We have a pretty large dictionary full of information! Let&rsquo;s pull out <code>data</code> (our input data), <code>target</code> (our output data), and <code>feature_names</code>, the names of our feature.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>iris_in</span> <span style=color:#f92672>=</span> <span style=color:#111>iris</span><span style=color:#111>[</span><span style=color:#d88200>&#34;data&#34;</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>iris_out</span> <span style=color:#f92672>=</span> <span style=color:#111>iris</span><span style=color:#111>[</span><span style=color:#d88200>&#34;target&#34;</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>iris_names</span> <span style=color:#f92672>=</span> <span style=color:#111>iris</span><span style=color:#111>[</span><span style=color:#d88200>&#34;feature_names&#34;</span><span style=color:#111>]</span>
</span></span></code></pre></div><h2 id=data-manipulation>Data Manipulation</h2><figure><img src=/ox-hugo/2022-06-15_15-52-10_screenshot.png></figure><p><code>pandas</code> is a very helpful utility that allow us to see into data more conveniently. The object that we are usually working with, when using pandas, is called a <code>DataFrame</code>. We can actually create a <code>DataFrame</code> pretty easily. Let&rsquo;s first import <code>pandas</code></p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>pandas</span> <span style=color:#00a8c8>as</span> <span style=color:#111>pd</span>
</span></span></code></pre></div><h3 id=loading-data>Loading Data</h3><p>We have aliased it as <code>pd</code> so that its easier to type. Awesome! Let&rsquo;s make a DataFrame.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>df</span> <span style=color:#f92672>=</span> <span style=color:#111>pd</span><span style=color:#f92672>.</span><span style=color:#111>DataFrame</span><span style=color:#111>(</span><span style=color:#111>iris_in</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>df</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>       0    1    2    3
</span></span><span style=display:flex><span>0    5.1  3.5  1.4  0.2
</span></span><span style=display:flex><span>1    4.9  3.0  1.4  0.2
</span></span><span style=display:flex><span>2    4.7  3.2  1.3  0.2
</span></span><span style=display:flex><span>3    4.6  3.1  1.5  0.2
</span></span><span style=display:flex><span>4    5.0  3.6  1.4  0.2
</span></span><span style=display:flex><span>..   ...  ...  ...  ...
</span></span><span style=display:flex><span>145  6.7  3.0  5.2  2.3
</span></span><span style=display:flex><span>146  6.3  2.5  5.0  1.9
</span></span><span style=display:flex><span>147  6.5  3.0  5.2  2.0
</span></span><span style=display:flex><span>148  6.2  3.4  5.4  2.3
</span></span><span style=display:flex><span>149  5.9  3.0  5.1  1.8
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[150 rows x 4 columns]
</span></span></code></pre></div><p>Nice! We have our input data contained in a data frame and nicely printed in a table; cool! However, the column names <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code> aren&rsquo;t exactly the most useful labels for us. Instead, then, let&rsquo;s change the column headers to:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>iris_names</span>
</span></span></code></pre></div><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>sepal length (cm)</td><td>sepal width (cm)</td><td>petal length (cm)</td><td>petal width (cm)</td></tr></tbody></table><p>How? We can both get and set the columns via <code>df.columns</code>:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>df</span><span style=color:#f92672>.</span><span style=color:#111>columns</span> <span style=color:#f92672>=</span> <span style=color:#111>iris_names</span>
</span></span></code></pre></div><p>Let&rsquo;s look at the <code>DataFrame</code> again!</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>df</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>     sepal length (cm)  sepal width (cm)  petal length (cm)  petal width (cm)
</span></span><span style=display:flex><span>0                  5.1               3.5                1.4               0.2
</span></span><span style=display:flex><span>1                  4.9               3.0                1.4               0.2
</span></span><span style=display:flex><span>2                  4.7               3.2                1.3               0.2
</span></span><span style=display:flex><span>3                  4.6               3.1                1.5               0.2
</span></span><span style=display:flex><span>4                  5.0               3.6                1.4               0.2
</span></span><span style=display:flex><span>..                 ...               ...                ...               ...
</span></span><span style=display:flex><span>145                6.7               3.0                5.2               2.3
</span></span><span style=display:flex><span>146                6.3               2.5                5.0               1.9
</span></span><span style=display:flex><span>147                6.5               3.0                5.2               2.0
</span></span><span style=display:flex><span>148                6.2               3.4                5.4               2.3
</span></span><span style=display:flex><span>149                5.9               3.0                5.1               1.8
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[150 rows x 4 columns]
</span></span></code></pre></div><p>Excellent! Now our data frame looks much more reasonable.</p><h2 id=wranging-data>Wranging Data</h2><p>How do we manipulate the data around? Well, we can index this data by both columns and rows.</p><p>Indexing by columns first is very easy. Pandas tables are, by default, &ldquo;column-major&rdquo;. This means that we can just index the columns just like a list!</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>df</span><span style=color:#111>[</span><span style=color:#d88200>&#34;petal width (cm)&#34;</span><span style=color:#111>]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>0      0.2
</span></span><span style=display:flex><span>1      0.2
</span></span><span style=display:flex><span>2      0.2
</span></span><span style=display:flex><span>3      0.2
</span></span><span style=display:flex><span>4      0.2
</span></span><span style=display:flex><span>      ...
</span></span><span style=display:flex><span>145    2.3
</span></span><span style=display:flex><span>146    1.9
</span></span><span style=display:flex><span>147    2.0
</span></span><span style=display:flex><span>148    2.3
</span></span><span style=display:flex><span>149    1.8
</span></span><span style=display:flex><span>Name: petal width (cm), Length: 150, dtype: float64
</span></span></code></pre></div><p>Nice! I want to know introduce the idea of a &ldquo;cursor&rdquo;. A &ldquo;cursor&rdquo; is used to index this high-dimensional data; think about it as the way to turn this table into something like an indexable 1-D list.</p><p>The simplest cursor is <code>.loc</code> (&ldquo;locator.&rdquo;)</p><p>Unlike list indexing directly, <code>.loc</code> is &ldquo;row-major:&rdquo; the first index selects <em>rows</em> instead of columns.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>df</span><span style=color:#f92672>.</span><span style=color:#111>loc</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>sepal length (cm)    5.1
</span></span><span style=display:flex><span>sepal width (cm)     3.5
</span></span><span style=display:flex><span>petal length (cm)    1.4
</span></span><span style=display:flex><span>petal width (cm)     0.2
</span></span><span style=display:flex><span>Name: 0, dtype: float64
</span></span></code></pre></div><p>Nice! You can see that <code>.loc</code> turned our table into a list, with each &ldquo;sample&rdquo; of the data more clearly represented by indexing it like a list.</p><p>What if, then, we want to select the &ldquo;pedal width&rdquo; value inside this sample? We just select the first index, a comma, then select the second index.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>df</span><span style=color:#f92672>.</span><span style=color:#111>loc</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;petal width (cm)&#34;</span><span style=color:#111>]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>0.2
</span></span></code></pre></div><p>Excellent! We can see, because we changed the header columns to be strings, we have to index them like strings.</p><p>What if, instead of the first row, we want to get&mldr; say, the first, fifth, and sixth rows? Unlike traditional lists, Pandas&rsquo; cursors can be <em>indexed by a list</em>.</p><p>So this:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>df</span><span style=color:#f92672>.</span><span style=color:#111>loc</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>sepal length (cm)    5.1
</span></span><span style=display:flex><span>sepal width (cm)     3.5
</span></span><span style=display:flex><span>petal length (cm)    1.4
</span></span><span style=display:flex><span>petal width (cm)     0.2
</span></span><span style=display:flex><span>Name: 0, dtype: float64
</span></span></code></pre></div><p>turns into</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>df</span><span style=color:#f92672>.</span><span style=color:#111>loc</span><span style=color:#111>[[</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span><span style=color:#ae81ff>8</span><span style=color:#111>,</span><span style=color:#ae81ff>9</span><span style=color:#111>]]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>   sepal length (cm)  sepal width (cm)  petal length (cm)  petal width (cm)
</span></span><span style=display:flex><span>0                5.1               3.5                1.4               0.2
</span></span><span style=display:flex><span>2                4.7               3.2                1.3               0.2
</span></span><span style=display:flex><span>8                4.4               2.9                1.4               0.2
</span></span><span style=display:flex><span>9                4.9               3.1                1.5               0.1
</span></span></code></pre></div><p>This would give us the 0th, 2nd, 8th, and 9th row!</p><p>This is all good, but, it&rsquo;s kind of annoying to type the column names (like &ldquo;petal width (cm)&rdquo;) every time! No worries, we can address this.</p><p><code>iloc</code> is a variant of <code>loc</code> which uses integer indexes. For row indexing, the syntax remains exactly the same; <code>iloc</code>, however, converts all column indexes to integers sequentially. Therefore:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>df</span><span style=color:#f92672>.</span><span style=color:#111>loc</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;petal width (cm)&#34;</span><span style=color:#111>]</span>
</span></span></code></pre></div><p>becomes</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>df</span><span style=color:#f92672>.</span><span style=color:#111>iloc</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#ae81ff>3</span><span style=color:#111>]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>0.2
</span></span></code></pre></div><p>Nice! Isn&rsquo;t that convenient.</p><h2 id=some-statistics>Some statistics</h2><p>The main gist of the lab here is to manipulate the input data a little. Pandas provides many helpful utilities to help us with that. For instance, let&rsquo;s take a single feature in the data, say, the pedal with:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>pwidth</span> <span style=color:#f92672>=</span> <span style=color:#111>df</span><span style=color:#111>[</span><span style=color:#d88200>&#34;petal width (cm)&#34;</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#75715e># same pwidth = df.iloc[:,3], where : returns everything in the row dimention</span>
</span></span><span style=display:flex><span><span style=color:#111>pwidth</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>0      0.2
</span></span><span style=display:flex><span>1      0.2
</span></span><span style=display:flex><span>2      0.2
</span></span><span style=display:flex><span>3      0.2
</span></span><span style=display:flex><span>4      0.2
</span></span><span style=display:flex><span>      ...
</span></span><span style=display:flex><span>145    2.3
</span></span><span style=display:flex><span>146    1.9
</span></span><span style=display:flex><span>147    2.0
</span></span><span style=display:flex><span>148    2.3
</span></span><span style=display:flex><span>149    1.8
</span></span><span style=display:flex><span>Name: petal width (cm), Length: 150, dtype: float64
</span></span></code></pre></div><p>We can now find out how distributed this data is, to glean some info about normalization! The most basic is for us to find the mean width of the petals:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>pwidth</span><span style=color:#f92672>.</span><span style=color:#111>mean</span><span style=color:#111>()</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>1.1993333333333336
</span></span></code></pre></div><p>Awesome! We can calculate the standard by applying this constant to that entire row. The syntax works just like how you expect&mdash;subtracting a scalar from the whole column just subtracts that constant from every element&mdash;without any fuss:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>(((</span><span style=color:#111>pwidth</span><span style=color:#f92672>-</span><span style=color:#111>pwidth</span><span style=color:#f92672>.</span><span style=color:#111>mean</span><span style=color:#111>())</span><span style=color:#f92672>**</span><span style=color:#ae81ff>2</span><span style=color:#111>)</span><span style=color:#f92672>.</span><span style=color:#111>sum</span><span style=color:#111>()</span><span style=color:#f92672>/</span><span style=color:#111>len</span><span style=color:#111>(</span><span style=color:#111>pwidth</span><span style=color:#111>))</span><span style=color:#f92672>**</span><span style=color:#ae81ff>0.5</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>0.7596926279021594
</span></span></code></pre></div><p>Cool! In the scheme of things, that&rsquo;s actually a pretty good. However, if it was not, we could normalize the data!</p><p>Let&rsquo;s first get the norm of the vector</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>pwidth_norm</span> <span style=color:#f92672>=</span> <span style=color:#111>sum</span><span style=color:#111>(</span><span style=color:#111>pwidth</span><span style=color:#f92672>**</span><span style=color:#ae81ff>2</span><span style=color:#111>)</span><span style=color:#f92672>**</span><span style=color:#ae81ff>0.5</span>
</span></span><span style=display:flex><span><span style=color:#111>pwidth_norm</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>17.38763928772391
</span></span></code></pre></div><p>And, let&rsquo;s normalize our vector by this norm!</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>pwidth_normd</span> <span style=color:#f92672>=</span> <span style=color:#111>pwidth</span><span style=color:#f92672>/</span><span style=color:#111>pwidth_norm</span>
</span></span><span style=display:flex><span><span style=color:#111>pwidth_normd</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>0      0.011502
</span></span><span style=display:flex><span>1      0.011502
</span></span><span style=display:flex><span>2      0.011502
</span></span><span style=display:flex><span>3      0.011502
</span></span><span style=display:flex><span>4      0.011502
</span></span><span style=display:flex><span>         ...
</span></span><span style=display:flex><span>145    0.132278
</span></span><span style=display:flex><span>146    0.109273
</span></span><span style=display:flex><span>147    0.115024
</span></span><span style=display:flex><span>148    0.132278
</span></span><span style=display:flex><span>149    0.103522
</span></span><span style=display:flex><span>Name: petal width (cm), Length: 150, dtype: float64
</span></span></code></pre></div><p>Excellent. Let&rsquo;s find out its standard deviation again! This time we will use <code>.std()</code> instead.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>pwidth_normd</span><span style=color:#f92672>.</span><span style=color:#111>std</span><span style=color:#111>()</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>0.04383790440709825
</span></span></code></pre></div><p>Much better.</p><h2 id=now-you-try>Now you try</h2><ul><li>Load the wine dataset into a DataFrame and manipulate it.</li><li>Feed slices back into our functions yesterday! Can you make the subsets of the data you made yesterday via the <code>.iloc</code> notation to make slicing easier?</li><li>Can you quantify the accuracy, precision, and recall on a shuffled version of the wine dataset and logistic regression? <code>seed=0</code></li><li>Is there any columns that need normalisation? Any outliers (2 std. dev away)? Why/why not?</li><li>Create a balanced version of the wine dataset between red and white classes. Does fitting this normalized version into our model makes training results better?</li></ul></div></article></main><footer style=margin-top:20px><p id=footer style=font-size:8px;color:var(--gray-3)>&copy; 2019-2025 Houjun Liu. Licensed CC BY-NC-SA 4.0.</p></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.32.2/tocbot.min.js></script><script>tocbot.init({tocSelector:"#toc",contentSelector:".center-clearfix",headingSelector:"h1, h2, h3",hasInnerContainers:!0})</script></body></html>